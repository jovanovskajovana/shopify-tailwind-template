<div class='container mx-auto px-4 py-12 max-w-md'>
  <h1 class='text-3xl font-bold mb-4 text-center'>{{ 'customer.reset_password.title' | t }}</h1>
  {%- assign subtext = 'customer.reset_password.subtext' | t -%}
  {%- if subtext != blank -%}
    <p class='text-center text-gray-600 mb-8'>{{ subtext }}</p>
  {%- endif -%}

  {%- form 'reset_customer_password', class: 'form', novalidate: 'novalidate' -%}
    {%- if form.errors -%}
      <div class='mb-6 p-4 bg-red-50 border border-red-200 rounded-lg'>
        <h2 class='text-red-800 font-semibold mb-2'>{{ 'accessibility.error' | t }}</h2>
        <ul class='list-disc list-inside text-sm text-red-700'>
          {%- for field in form.errors -%}
            <li>
              {%- if field == 'form' -%}
                {{ form.errors.messages[field] }}
              {%- else -%}
                <a href='#{{ field }}'>
                  {{- form.errors.translated_fields[field] | capitalize }}
                  {{ form.errors.messages[field] -}}
                </a>
              {%- endif -%}
            </li>
          {%- endfor -%}
        </ul>
      </div>
    {%- endif -%}

    <div class='mb-4'>
      <label for='ResetPassword' class='block mb-2 font-semibold'>
        {{ 'customer.reset_password.password' | t }}
      </label>
      <input
        type='password'
        id='ResetPassword'
        name='customer[password]'
        autocomplete='new-password'
        class='w-full border border-gray-300 rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black'
        {% if form.errors contains 'password' %}
          aria-invalid='true'
          aria-describedby='password-error'
        {% endif %}
      >
      {%- if form.errors contains 'password' -%}
        <p id='password-error' class='mt-1 text-sm text-red-600'>{{ form.errors.messages.password }}</p>
      {%- endif -%}
    </div>

    <div class='mb-6'>
      <label for='PasswordConfirmation' class='block mb-2 font-semibold'>
        {{ 'customer.reset_password.password_confirm' | t }}
      </label>
      <input
        type='password'
        id='PasswordConfirmation'
        name='customer[password_confirmation]'
        autocomplete='new-password'
        class='w-full border border-gray-300 rounded px-4 py-2 focus:outline-none focus:ring-2 focus:ring-black'
        {% if form.errors contains 'password_confirmation' %}
          aria-invalid='true'
          aria-describedby='password_confirmation-error'
        {% endif %}
      >
      {%- if form.errors contains 'password_confirmation' -%}
        <p id='password_confirmation-error' class='mt-1 text-sm text-red-600'>{{ form.errors.messages.password_confirmation }}</p>
      {%- endif -%}
    </div>

    <button type='submit' class='w-full bg-black text-white px-8 py-3 rounded-lg hover:bg-gray-800 transition'>
      {{ 'customer.reset_password.submit' | t }}
    </button>
  {%- endform -%}
</div>

{% schema %}
{
  "name": "Reset Password"
}
{% endschema %}
