<div class='bg-black text-white py-2 overflow-hidden'>
  <div class='flex animate-marquee whitespace-nowrap'>
    {% capture elements %}
    {% for block in section.blocks %}
      {% if block.settings.link %}
        <a href="{{ block.settings.link }}" target="_blank" class="inline-block px-4 text-xs uppercase tracking-wider hover:opacity-80">
          <span class="mr-2">•</span>
          {{ block.settings.item_text }}
        </a>
      {% else %}
        <span class="inline-block px-4 text-xs uppercase tracking-wider">
          <span class="mr-2">•</span>
          {{ block.settings.item_text }}
        </span>
      {% endif %}
    {% endfor %}
  {% endcapture %}
    {{ elements }}
    {{ elements }}
  </div>
</div>

{% schema %}
{
  "name": "Announcement bar",
  "blocks": [
    {
      "type": "text",
      "name": "Text",
      "settings": [
        {
          "type": "url",
          "id": "link",
          "label": "Link",
          "info": "Optional link for the announcement"
        },
        {
          "type": "text",
          "id": "item_text",
          "label": "Text",
          "info": "Announcement text to display"
        }
      ]
    }
  ]
}
{% endschema %}
